<%- include('../include/header') %>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" />
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.js"></script>
  </head>

  <body class="d-flex">
    <%- include('../include/sidebar') %>
      <div class="" style="background-color: #F5F7FB; width: 100%;">
        <header class="w-100 d-flex align-items-center justify-content-end p-3 shadow"
          style="background-color:#FFFFFF;">
          <h2 class=""><i class="bi bi-box-arrow-right text-danger"></i></h2>
        </header>
        <main class="d-flex flex-column align-items-center">
          <div class="d-flex align-items-center my-4 w-100" style="padding-left: 3vh; padding-right: 3vh;">
            <h4>Tambah Karyawan</h4>
          </div>
          <div class="form w-100" style="padding-left: 3vh; padding-right: 3vh;">
            <div class="border rounded-3 p-4 mb-4" style="background-color: white;">
              <form
                action="<% if (karyawan) { %>/karyawan/edit/<%= karyawan._id %><% } else { %>/karyawan/tambah<% } %>"
                method="POST">
                <div class="mb-3">
                  <label for="namakaryawan" class="form-label">Nama Karyawan</label>
                  <input type="text" class="form-control" id="namakaryawan" name="namakaryawan" value="<%= (karyawan) ? karyawan.nama : '' %>">
                </div>
                <div class="mb-3">
                  <label for="noktp" class="form-label">Nomor KTP</label>
                  <input type="text" class="form-control" id="noktp" name="noktp"
                    value="<%= (karyawan) ? karyawan.nomorktp : '' %>">
                </div>
                <div class="mb-3">
                  <label for="alamat" class="form-label">Alamat</label>
                  <textarea class="form-control" id="alamat" rows="3" name="alamat"><%= (karyawan) ? karyawan.alamat : '' %></textarea>
                </div>
                <div class="mb-3">
                  <label for="gaji" class="form-label">Gaji</label>
                  <input type="number" class="form-control" id="gaji" name="gaji"
                    value="<%= (karyawan) ? karyawan.gaji : '' %>">
                </div>
                <div class="mb-3">
                  <label for="status" class="form-label">Status</label>
                  <br>
                  <select name="status" id="" class="form-select" aria-label="Default select example">
                    <option value='null' selected>Pilih...</option>
                    <option value="Aktif">Aktif</option>
                    <option value="Tidak Aktif">Tidak Aktif</option>
                  </select>
                </div>
                <div class="d-flex justify-content-end">
                  <button type="submit" class="btn btn-primary">Simpan</button>
                </div>
              </div>
          </div>
        </main>
      </div>
      <script>
        const select = document.getElementsByName('status')[0].value = "<%= (karyawan) ? karyawan.status : '' %>";

        $(document).ready(function () {
          $('table.display').DataTable();
        });

        $('select').ready(function () {
          $('select').toggleClass('selected');
          $('option').toggleClass('unselected');
        });
      </script>
      <script>
        $(document).ready(function () {
          $("#caribarang").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#tabelbarang tr").filter(function () {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
            });
          });
        });
      </script>
      <%- include('../include/footer') %>